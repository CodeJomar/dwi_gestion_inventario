<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MultiSupply S.A. - Gestión de Inventario</title>

  <th:block th:replace="~{fragments/links :: cdnLinks-up}"></th:block>

  <link rel="stylesheet" th:href="@{/styles/auth.css}">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'primary': 'var(--primary)',
            'accent': 'var(--accent)',
            'background': 'var(--background)',
            'foreground': 'var(--foreground)',
            'card': 'var(--card)',
            'input': 'var(--input)',
            'ring': 'var(--ring)',
            'muted-foreground': 'var(--muted-foreground)',
          }
        }
      }
    }
  </script>
</head>

<body class="min-h-screen login-bg-light flex items-center justify-center">
  <div class="login-box-light bg-card rounded-2xl flex w-[900px] max-w-5xl overflow-hidden shadow-2xl">

    <div class="w-2/5 p-10 flex flex-col justify-center light-form-panel">
      <div class="flex flex-col items-center mb-2">
        <svg class="w-10 h-10 text-primary border-2 border-primary rounded-full p-1 mb-2" fill="none"
          stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
            d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
        </svg>
        <h3 class="text-2xl font-bold text-foreground">Crear Cuenta</h3>
        <div class="flex flex-col items-center">
          <p class="text-center text-muted-foreground text-xs mt-2 text-wrap">Ingresa tus credenciales para registrarte
            en el
            sistema</p>
        </div>
      </div>

      <div th:replace="~{content/auth/formulario_registro :: formulario-registro}"></div>

      <p class="text-center text-muted-foreground text-xs mt-6">
        ¿Ya tienes cuenta?
        <a th:href="@{/}" class="text-primary font-semibold hover:underline transition-colors">Inicia
          sesión</a>
      </p>
    </div>

    <div class="w-3/5 flex flex-col items-center justify-center p-16 light-welcome-panel">

      <div class="max-w-xl text-center">
        <h2 class="text-4xl md:text-5xl font-extrabold text-foreground tracking-tight mb-4 text-primary">
          ¡Regístrate ahora!
        </h2>
        <p class="text-lg mb-10 text-foreground opacity-70">
          Crea tu cuenta en segundos y empieza a gestionar el inventario.
        </p>

        <div class="flex justify-center items-center h-72">
          <dotlottie-wc src="https://lottie.host/7c5e5df4-41da-4430-a5db-006a0fefa5b6/BLT9KKCooS.lottie"
            style="width: 100%; height: 100%; max-width: 350px;" autoplay loop></dotlottie-wc>
        </div>
      </div>

      <div class="text-muted-foreground text-sm flex items-center mt-12">
        <svg class="w-6 h-6 mr-2 text-primary" fill="currentColor" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 21h20L12 2zm0 14a2 2 0 110-4 2 2 0 010 4z" />
        </svg>
        Sistema de Gestión de Inventarios para MultiSupply S.A.
      </div>

    </div>
  </div>

  <script th:src="@{/scripts/auth.js}"></script>

  <script th:inline="javascript">
    /*<![CDATA[*/
    document.addEventListener('DOMContentLoaded', function () {

      const params = new URLSearchParams(window.location.search);

      const mostrarError = /*[[${mostrarError}]]*/ false;

      if (mostrarError) {
        Swal.fire({
          icon: 'error',
          title: 'Error en el registro',
          text: 'Verifica los campos, puede que haya cometido algún error.',
          confirmButtonText: 'Entendido'
        });
      }

      if (params.has('registroExitoso')) {
        Swal.fire({
          icon: 'success',
          title: '¡Registro exitoso!',
          text: 'Tu cuenta fue creada correctamente. Ahora puedes iniciar sesión.',
          confirmButtonText: 'Ir al login',
          confirmButtonColor: '#3085d6'
        }).then(() => {
          window.location.href = '/';
        });
      }
    });
    /*]]>*/
  </script>

</body>

</html>